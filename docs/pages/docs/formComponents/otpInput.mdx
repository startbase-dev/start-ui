import { Tabs } from 'nextra/components';
import OTPInput from '@start-base/react-form-elements/OTPInput';
import Preview from '../../../components/Preview/Preview';
import FormOnChange from '@components/formOnChange';
import { Steps } from 'nextra/components';

# OTPInput

The OTPInput component is designed for secure and user-friendly input of One-Time Passwords (OTPs). It features multiple input fields to capture each digit of the OTP individually, providing a clear and intuitive interface for users.

## Installation

<Steps>
    ### Install the package
    ```sh copy npm2yarn
    npm i @start-base/react-form-elements
    ```
    ### Add the styles

    <Tabs items={["Next.js (App Router)", "Next.js (Pages Router)", "React.js"]}>
        <Tabs.Tab label="Next.js (App Router)">
            To use the React form elements styles in a Next.js project, import the styles in your `layout.tsx` file.

            ```tsx copy filename="app/layout.tsx"
            import "@start-base/react-form-elements/styles.css";
            ```

        </Tabs.Tab>
        <Tabs.Tab label="Next.js (Pages Router)">
            For Next.js (Pages Router) projects, ensure you include the React form elements styles in the `_app.tsx` file.

            ```tsx copy filename="pages/_app.tsx"
            import "@start-base/react-form-elements/styles.css";
            ```

        </Tabs.Tab>
        <Tabs.Tab label="React.js">
            In a React.js project, you should import the styles directly into your `App.js` file.

            ```tsx copy filename="App.js"
            import "@start-base/react-form-elements/styles.css";
            ```

        </Tabs.Tab>

    </Tabs>

    ### Import the component

    <Tabs items={["Individual", "Global"]}>
        <Tabs.Tab label="Individual">

            ```tsx copy
            import OTPInput from '@start-base/react-form-elements/OTPInput';
            ```

        </Tabs.Tab>
        <Tabs.Tab label="Global">

            ```tsx copy
            import { OTPInput } from '@start-base/react-form-elements';
            ```

        </Tabs.Tab>

    </Tabs>

</Steps>

## Usages

<Tabs items={["Preview", "Code", "React Hook Form"]}>
  <Tabs.Tab>
  <Preview height="200px" width="300px">
  <FormOnChange>
    <OTPInput
    length={5}
    name="input"
  />
  </FormOnChange>
  </Preview>
  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <OTPInput
        length={5}
        name="input"
        onChange={handleChange}
    />
    ```

  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <Controller
        name="input"
        control={control}
        render={({ field }) => (
          <OTPInput
            value={watch("input")}
            {...field}
          />
        )}
    />
    ```
  </Tabs.Tab>
</Tabs>

### OTP Input With Label

<Tabs items={["Preview", "Code", "React Hook Form"]}>
  <Tabs.Tab>
  <Preview height="200px" width="300px">
    <FormOnChange>
      <OTPInput
    label="Label"
    length={5}
    name="input"
  />
  </FormOnChange>
  </Preview>
  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <OTPInput
        label="Label"
        length={5}
        name="input"
        onChange={handleChange}
    />
    ```

  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <Controller
        name="input"
        control={control}
        render={({ field }) => (
          <OTPInput
            value={watch("input")}
            {...field}
          />
        )}
    />
    ```
  </Tabs.Tab>
</Tabs>

### OTP Input With Length

<Tabs items={["Preview", "Code", "React Hook Form"]}>
  <Tabs.Tab>
  <Preview height="200px" width="300px">
      <FormOnChange>
      <OTPInput
    label="Label"
    length={4}
    name="input"
  />
  </FormOnChange>
  </Preview>
  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <OTPInput
        label="Label"
        length={4}
        name="input"
        onChange={handleChange}
    />
    ```

  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <Controller
        name="input"
        control={control}
        render={({ field }) => (
          <OTPInput
            value={watch("input")}
            {...field}
          />
        )}
    />
    ```
  </Tabs.Tab>
</Tabs>

### OTP Input With Format

<Tabs items={["Preview", "Code", "React Hook Form"]}>
  <Tabs.Tab>
  <Preview height="200px" width="300px">
     <FormOnChange>
      <OTPInput
    format={[
      2,
      2,
      2
    ]}
    length={6}
    name="input"
  />
  </FormOnChange>
  </Preview>
  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <OTPInput
        format={[2,2,2]}
        length={6}
        name="input"
        onChange={handleChange}
    />

    ```

  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <Controller
        name="input"
        control={control}
        render={({ field }) => (
          <OTPInput
            value={watch("input")}
            {...field}
          />
        )}
    />
    ```
  </Tabs.Tab>
</Tabs>

### OTP Input With Separator

<Tabs items={["Preview", "Code", "React Hook Form"]}>
  <Tabs.Tab>
  <Preview height="200px" width="300px">

    <FormOnChange>
      <OTPInput
    format={[3,3]}
    length={6}
    name="input"
    separator="/"

/>

  </FormOnChange>
  </Preview>
  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <OTPInput
        format={[3,3]}
        length={6}
        name="input"
        separator="/"
        onChange={handleChange}
    />
    ```

  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <Controller
        name="input"
        control={control}
        render={({ field }) => (
          <OTPInput
            value={watch("input")}
            {...field}
          />
        )}
    />
    ```
  </Tabs.Tab>
</Tabs>

### OTP Input With Timer

<Tabs items={["Preview", "Code", "React Hook Form"]}>
  <Tabs.Tab>
  <Preview height="200px" width="300px">
  
   <FormOnChange>
     <OTPInput
    format={[
      3,
      3
    ]}
    length={6}
    name="input"
    timer={120}
  />
  </FormOnChange>
  </Preview>
  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <OTPInput
        format={[3,3]}
        length={6}
        name="input"
        onChange={handleChange}
        timer={120}
    />
    ```

  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <Controller
        name="input"
        control={control}
        render={({ field }) => (
          <OTPInput
            value={watch("input")}
            {...field}
          />
        )}
    />
    ```
  </Tabs.Tab>
</Tabs>

### OTP Input With On Complete

<Tabs items={["Preview", "Code", "React Hook Form"]}>
  <Tabs.Tab>
  <Preview height="200px" width="300px">
  
   <FormOnChange>
     <OTPInput
    format={[
      3,
      3
    ]}
    length={6}
    name="input"
    timer={120}
  />
  </FormOnChange>
  </Preview>
  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <OTPInput
        format={[3,3]}
        length={6}
        name="input"
        onChange={handleChange}
        timer={120}
    />
    ```

  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <Controller
        name="input"
        control={control}
        render={({ field }) => (
          <OTPInput
            value={watch("input")}
            {...field}
          />
        )}
    />
    ```
  </Tabs.Tab>
</Tabs>

### OTP Input With On Resend

<Tabs items={["Preview", "Code", "React Hook Form"]}>
  <Tabs.Tab>
  <Preview height="200px" width="300px">
  
   <FormOnChange>
     <OTPInput
    length={6}
    name="input"
    timer={120}
  />
  </FormOnChange>
  </Preview>
  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <OTPInput
        length={6}
        name="input"
        onChange={handleChange}
        timer={120}
    />
    ```

  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <Controller
        name="input"
        control={control}
        render={({ field }) => (
          <OTPInput
            value={watch("input")}
            {...field}
          />
        )}
    />
    ```
  </Tabs.Tab>
</Tabs>

### OTP Input Disabled

<Tabs items={["Preview", "Code", "React Hook Form"]}>
  <Tabs.Tab>
  <Preview height="200px" width="300px">
   
  <FormOnChange>
   <OTPInput
    disabled
    label="Label"
    length={5}
    name="input"
    placeholder="Placeholder"
  />
  </FormOnChange>
  </Preview>
  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <OTPInput
        disabled
        label="Label"
        length={5}
        name="input"
        onChange={handleChange}
        placeholder="Placeholder"
    />
    ```

  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <Controller
        name="input"
        control={control}
        render={({ field }) => (
          <OTPInput
            value={watch("input")}
            {...field}
          />
        )}
    />
    ```
  </Tabs.Tab>
</Tabs>

### OTP Input Error Message

<Tabs items={["Preview", "Code", "React Hook Form"]}>
  <Tabs.Tab>
  <Preview height="200px" width="300px">
 
    <FormOnChange>
    <OTPInput
    error="Error Message"
    label="Label"
    length={5}
    name="input"
  />
  </FormOnChange>
  </Preview>
  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <OTPInput
        error="Error Message"
        label="Label"
        length={5}
        name="input"
        onChange={handleChange}
    />
    ```

  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <Controller
        name="input"
        control={control}
        render={({ field }) => (
          <OTPInput
            value={watch("input")}
            {...field}
          />
        )}
    />
    ```
  </Tabs.Tab>
</Tabs>

### OTP Input Error

<Tabs items={["Preview", "Code", "React Hook Form"]}>
  <Tabs.Tab>
  <Preview height="200px" width="300px">
      <FormOnChange>
    <OTPInput
    error
    label="Label"
    length={5}
    name="input"
  />
  </FormOnChange>
  </Preview>
  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <OTPInput
        error
        label="Label"
        length={5}
        name="input"
        onChange={handleChange}
    />
    ```

  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx copy showLineNumbers
    <Controller
        name="input"
        control={control}
        render={({ field }) => (
          <OTPInput
            value={watch("input")}
            {...field}
          />
        )}
    />
    ```
  </Tabs.Tab>
</Tabs>

## API

This component is a wrapper around [input-otp](https://www.npmjs.com/package/input-otp) component. All props from [input-otp API Reference](https://github.com/guilhermerodz/input-otp?tab=readme-ov-file#props) can be passed to this component.

| Name           | Type                              | Default    | Description                                                                                                                                    |
| -------------- | --------------------------------- | ---------- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| name           | `string`                          |            | Name of the input                                                                                                                              |
| label          | `string`                          | `null`     | Label of the input                                                                                                                             |
| placeholder    | `string`                          | `null`     | Placeholder of the input                                                                                                                       |
| disableShrink  | `boolean`                         | `false`    | Position the label outside of the input                                                                                                        |
| onChange       | `function`                        |            | Callback function that is fired when the value changes.                                                                                        |
| inputClassName | `string`                          | `null`     | Classname for input element                                                                                                                    |
| labelClassName | `string`                          | `null`     | Classname for label element                                                                                                                    |
| errorClassName | `string`                          | `null`     | Classname for error element                                                                                                                    |
| disabled       | `boolean`                         | `false`    | Disable the input                                                                                                                              |
| error          | `string` or `boolean` or `object` | `null`     | Error message to display below the input. if value is a boolean input border will be change. Also you can pass schema validator error objects. |
| value          | `string`                          |            | Value of the input                                                                                                                             |
| length         | `object`                          |            | Length of the code.                                                                                                                            |
| timer          | `number`                          | `null`     | OTP code timer limit of seconds.                                                                                                               |
| onComplete     | `function`                        |            | Callback function that is fired when the all values entered.                                                                                   |
| onResend       | `function`                        |            | Callback function that is fired when the time out and cliced resend button.                                                                    |
| format         | `array`                           | `null`     | Inputs Separation array.                                                                                                                       |
| separator      | `string`                          | `"-"`      | Separator element between inputs                                                                                                               |
| resendLabel    | `string`                          | `"Resend"` | Resend button text.                                                                                                                            |

## Styling
